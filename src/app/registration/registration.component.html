<app-navbar></app-navbar>
<div class="container bg">
    <div class="jumbotron">
      <h1>Sign up Here!!</h1>
    </div>
    
  
    <div class="register">
        <form [formGroup]="signupForm" (ngSubmit)="submitForm()">
          <p class="error-message" *ngIf="addUserErrorMessage">{{addUserErrorMessage?.error?.message}}</p>
          <!-- Username Field -->
          <div class="mb-3">
            <label for="username" class="form-label"><b>Username</b></label>
            <input type="text" formControlName="username" id="username" class="form-control"
              placeholder="Enter Username" />
            <div *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched" class="error-message">
              <div *ngIf="signupForm.get('username')?.hasError('required')">Username is required</div>
              <div *ngIf="signupForm.get('username')?.hasError('minlength')">Username should be at least 5 characters
              </div>
              <div *ngIf="signupForm.get('username')?.hasError('maxlength')">Username should not exceed 20 characters
              </div>
              <div *ngIf="signupForm.get('username')?.hasError('pattern')">Username should not contain special characters</div>
            
            </div>
          </div>
  
          <!-- Password Field -->
          <div class="mb-3">
            <label for="password" class="form-label"><b>Password</b>
              <i class="bi bi-info text-info" data-bs-toggle="tooltip" data-bs-placement="top" title="At least 8 characters â€” the more characters, 
              the better. A mixture of both uppercase and 
              lowercase letters. A mixture of letters and numbers. 
              Inclusion of at least one special character, e.g., ! @ # ? ]">
                info
              </i>
            </label>
            <input type="{{ showPassword ? 'text' : 'password' }}" formControlName="password" id="password" class="form-control"
              placeholder="Enter Password" />
              <button type="button" class="btn btn-sm btn-outline-secondary " (click)="togglePasswordVisibility()">
                <i class="bi bi-eye{{ showPassword ? '-slash' : '' }}"></i>
              </button>
            <div *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched" class="error-message">
              <div *ngIf="signupForm.get('password')?.hasError('required')">Password is required</div>
              <div *ngIf="signupForm.get('password')?.hasError('minlength')">Password should be at least 8 characters long
              </div>
              <div *ngIf="signupForm.get('password')?.hasError('pattern')">Password should include at least one uppercase
                letter, one lowercase letter, one digit, and one special character</div>
            </div>
          </div>
  
          <!-- Role Field -->
          <!-- <div class="mb-3">
            <label for="role" class="form-label"><b>Role</b></label>
            <input type="text" formControlName="role" id="role" class="form-control" readonly />
          </div> -->
          <div class="mb-3">
            <label for="role" class="form-label"><b>Role</b></label>
            <select formControlName="role" id="role" class="form-control"  >
              <!-- <option >-select-Role</option> -->
              <option value="" disabled selected>- Select Role -</option>
              <option value="User">User</option>
              <option value="Admin">Admin</option>
            </select>
          </div>
  
          <!-- Email Field -->
          <div class="mb-3">
            <label for="email" class="form-label"><b>Email</b></label>
            <input type="email" formControlName="email" id="email" class="form-control" placeholder="Enter Email" />
            <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" class="error-message">
              <div *ngIf="signupForm.get('email')?.hasError('required')">Email is required</div>
              <div *ngIf="signupForm.get('email')?.hasError('email')">Enter a valid email address</div>
            </div>
          </div>
  
  
      
  
  
          <!-- PhoneNumber Field -->
          <div class="mb-3">
            <label for="phoneNumber" class="form-label"><b>Phone Number</b></label>
            <input type="tel" formControlName="phoneNumber" id="phoneNumber" class="form-control" placeholder="Enter Phone Number" />
            <div *ngIf="signupForm.get('phoneNumber')?.invalid && signupForm.get('phoneNumber')?.touched" class="error-message">
              <div *ngIf="signupForm.get('phoneNumber')?.hasError('required')">Phone Number is required</div>
              <div *ngIf="signupForm.get('phoneNumber')?.hasError('minlength')">Phone Number should have minimum 10 numbers</div>
              <div *ngIf="signupForm.get('phoneNumber')?.hasError('maxlength')">Phone Number should have minimum 10 numbers</div>
             <!-- <div *ngIf="signupForm.get('phoneNumber')?.hasError('minLength')">Phone Number should have minimum 10 numbers</div> -->
             <!-- <div *ngIf="signupForm.get('phoneNumber')?.hasError('max')">Age cannot exceed 100</div> -->
             <div *ngIf="signupForm.get('phoneNumber')?.hasError('pattern')">Phone Number should have only numbers and start with 6,7,8,9</div>
          
            </div>
          </div>
  
          <!-- Country Field -->
          <div class="mb-3">
            <label for="country" class="form-label"><b>Country</b></label>
            <input type="text" formControlName="country" id="country" class="form-control" placeholder="Enter Country" />
            <div *ngIf="signupForm.get('country')?.invalid && signupForm.get('country')?.touched" class="error-message">
              <div *ngIf="signupForm.get('country')?.hasError('required')">Country is required</div>
            </div>
          </div>
  
  
          <div>
            <button type="submit" class="btn btn-success">Register</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" class="btn btn-danger cancel" (click)="goBack()">Cancel</button>
          </div>
        </form>
  
        <p>
          If you are already a user <a routerLink="/login">Click here</a> to sign in.
        </p>
    </div>
     </div>